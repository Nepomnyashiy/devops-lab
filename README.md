# DevOps-Lab — система диагностики и наблюдения за приложениями

**DevOps-Lab** — проект, демонстрирующий полный цикл DevOps-подхода: от контейнеризации и CI/CD до мониторинга и тестирования.
Система предназначена для **диагностики и анализа состояния серверных приложений и инфраструктуры**.

Она собирает и отображает технические параметры работы сервисов:

* производительность приложений и баз данных;
* загрузку ресурсов (CPU, RAM, диски, сеть);
* активность контейнеров и процессов;
* ошибки, логи и системные события.

Архитектура построена на микросервисном принципе — каждый компонент выполняет свою задачу:
`backend` (Flask) обрабатывает данные, `nginx` обеспечивает маршрутизацию, `PostgreSQL` хранит информацию,
а `frontend (UI)` предоставляет удобный веб-интерфейс для запуска тестов и визуализации результатов.
Дополнительно интегрирован модуль тестирования и нагрузочных сценариев для проверки стабильности базы данных и API.

**Цель проекта** — показать, как с помощью современных DevOps-инструментов можно организовать:

* автоматическую сборку, развертывание и тестирование приложений;
* централизованное наблюдение за состоянием системы;
* анализ производительности и отказоустойчивости сервисов.

---

## Архитектура проекта

```text
┌──────────────────────────────┐
│            UI                │
│ (React / Tailwind)           │
└──────────────┬───────────────┘
               │
┌──────────────▼───────────────┐
│           NGINX              │
│ (reverse proxy + routing)    │
└──────────────┬───────────────┘
               │
┌──────────────▼───────────────┐
│            APP               │
│ (Flask backend + API)        │
└──────────────┬───────────────┘
               │
┌──────────────▼───────────────┐
│            DB                │
│ (PostgreSQL)                 │
└──────────────┬───────────────┘
               │
┌──────────────▼───────────────┐
│  Prometheus + Grafana + Loki │
│ (Monitoring & Logs)          │
└──────────────────────────────┘
```

---

## Используемые технологии

| Категория       | Инструменты                                   |
| --------------- | --------------------------------------------- |
| Контейнеризация | Docker, Docker Compose                        |
| CI/CD           | GitHub Actions                                |
| Backend         | Python, Flask                                 |
| Frontend        | React, TypeScript, Tailwind CSS               |
| База данных     | PostgreSQL                                    |
| Веб-сервер      | Nginx                                         |
| Мониторинг      | Prometheus, Grafana, Loki, Promtail, cAdvisor |
| Автоматизация   | Bash, Python (requests, SQLAlchemy)           |

---

## Структура репозитория

```text
devops-lab/
├── docker/                 # Dockerfile'ы и конфигурации
├── ui/                     # Исходный код фронтенда (React)
├── scripts/                # Python-скрипты для тестирования и утилиты
├── monitoring/             # Конфиги Prometheus, Grafana и Loki
├── .github/workflows/      # CI/CD pipeline (GitHub Actions)
├── docker-compose.yml      # Основной файл Docker Compose
└── README.md               # Документация проекта
```

---

## Запуск проекта

```bash
git clone https://github.com/Nepomnyashiy/devops-lab.git
cd devops-lab
docker compose up -d --build
```

После успешного запуска:

* Приложение доступно по адресу: **[http://localhost:8000](http://localhost:8000)**
* Веб-интерфейс (UI): **[http://localhost:3000](http://localhost:3000)**
* Панель мониторинга Grafana: **[http://localhost:3000](http://localhost:3000)** (если настроена)

---

## Тестирование системы

В репозитории есть скрипт `scripts/test_app.py`, который выполняет автоматическую проверку доступности сервисов и корректности API.

Пример запуска:

```bash
cd scripts
python3 test_app.py
```

Скрипт выполняет:

* проверку импортов Python-модулей (flask, requests, psycopg2, sqlalchemy);
* тесты API `/health`, `/env`, `/metrics`, `/items`;
* эмуляцию POST-запроса и чтение данных из БД.

Пример вывода:

```
[OK] /health
[OK] /metrics
[OK] POST /items
Все проверки пройдены успешно
```

---

## Мониторинг и безопасность

Система включает встроенный модуль мониторинга и базовые средства обеспечения безопасности.
Мониторинг позволяет отслеживать состояние контейнеров, сервисов и базы данных.
Компоненты взаимодействуют через защищённые соединения, а доступ к данным ограничен ролями и учетными записями.

---

## Автор проекта

**Сергей Анатольевич Непомнящий**
GitHub: [Nepomnyashiy](https://github.com/Nepomnyashiy)

