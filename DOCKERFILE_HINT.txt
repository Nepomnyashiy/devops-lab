# Подсказка по Dockerfile (замените свой docker/app/Dockerfile при необходимости):
FROM python:3.12-slim
RUN useradd -m appuser
WORKDIR /app

# Устанавливаем зависимости СИСТЕМНО (до USER), чтобы gunicorn был в /usr/local/bin
COPY docker/app/requirements.txt /app/requirements.txt
RUN pip install --no-cache-dir -r /app/requirements.txt

COPY docker/app /app

USER appuser
ENV PATH="/home/appuser/.local/bin:${PATH}" PORT=5000
EXPOSE 5000

CMD ["gunicorn","-w","2","--threads","4","-b","0.0.0.0:5000","app:app"]
